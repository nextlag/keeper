@access_token = eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjE0MzYwODQsImlhdCI6MTcyMTQwMDA4NCwibmJmIjoxNzIxNDAwMDg0LCJzdWIiOiJkYTc0MDBjOS0wNDM4LTQ0ODktOTgzYy0wZWM5ZDRhNzdiZDMifQ.JjJ14XrSHxDK2b1DiCQMWFlTzY3H76h3Ia_7mUXfvPAau8u_xLUccH-fZDWkvj-GpwmfG_PePo74D51aRp5gcWvYEBc1XPGe_Y6B6lvXzVHfsMwZ22fo81tG5pGkayz5yT5pPJTaBHlenDu5jo74Ah1rDlHqf5P1JJvfw5jIEKGY8OGdC2dhXH2CV50LaXvrYi8hee7ptc33uQBV5eT-pafdycHVElBgOpK6AZ867K2WMVElRk8eTXROn1OfxLR4IpxOHkJ7qZFM79W2677sfbZDMrHGzVkdjbB6Ng09WFYUwHmd4P396OYnqHOPUfwtC1hQkGfQruqg9ZSK9_7RkA
@refresh_token = eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE3MjE3NjAwODQsImlhdCI6MTcyMTQwMDA4NCwibmJmIjoxNzIxNDAwMDg0LCJzdWIiOiJkYTc0MDBjOS0wNDM4LTQ0ODktOTgzYy0wZWM5ZDRhNzdiZDMifQ.Q1qDd3-IW62ITNeqCgpJt2DCn4Cc-Fq3AZpwqAcK43qgO9Pna8aU3KXejQh3KavVFjPy5rFQB_4jiCznvXGIF_wtk2oIw3HVAiYQRlE8Sv8N-5VHJpzq82i4B0eG1YzFxES7jQShomFkdwYlSYOijGYUxQTpd9DW3uyh9hylMI58WJKMqELAjf_91SG2ONDjwUmVt47-Lf-ve9oZsJ8Kl6iWvEYn9KQvyc1ULAVFMpxUKbq_u7n8m0jY4g-80THDVFD0T92xbiKdxrGQVF_vL1_L6xSKZo1lJoJRSf_sMHz46ITrfxrePYsyFO04JC7743AhfMq5NtqojCvf1VXamw

### GET ping
GET localhost:8080/ping

### POST registration random user
< {%
    const email = $random.alphabetic(4).toLowerCase()
    const password = $random.alphanumeric(8)
    request.variables.set("email", email)
    request.variables.set("password", password)
%}

POST localhost:8080/auth/register

{
  "email": "{{email}}@mail.ru",
  "password": "{{alias}}"
}

### POST registration
POST localhost:8080/auth/register

{
  "email": "example@mail.ru",
  "password": "12345"
}

### POST authentication
POST localhost:8080/auth/login

{
  "email": "example@mail.ru",
  "password": "12345"
}

### GET refresh token
GET localhost:8080/auth/refresh
Cookie: refresh_token={{refresh_token}}

### GET auth logout
GET localhost:8080/auth/logout

### GET user/me
GET localhost:8080/user/me
Authorization: Bearer {{access_token}}


### ================================ LOGINS ====================================###

### POST user/logins
POST localhost:8080/user/logins
Authorization: Bearer {{access_token}}

{
  "name": "yandex.practicum",
  "login": "example",
  "password": "12345",
  "uri": "https://yandex.practicum.ru",
  "meta": [
    {
      "name": "GO",
      "value": "base"
    },
    {
      "name": "GO",
      "value": "advance"
    }
  ]
}

### GET user/logins
GET localhost:8080/user/logins
Authorization: Bearer {{access_token}}

### PATCH user/logins
PATCH localhost:8080/user/logins/7f20ba0a-35db-41ca-9835-d2b0ee721530
Authorization: Bearer {{access_token}}

{
  "name": "yandex.practicum",
  "login": "example_yandex",
  "password": "543210",
  "uri": "https://yandex.practicum.com",
}


### DELETE user/logins
DELETE localhost:8080/user/logins/0068b7b7-e501-4b8a-85de-d892da6e43aa
Authorization: Bearer {{access_token}}


### ================================ CARDS ====================================###

### POST user/cards
POST localhost:8080/user/cards
Authorization: Bearer {{access_token}}

{
  "name": "GOLD",
  "card_holder_hame": "DIGIT",
  "number": "1123 1234 1000 1234",
  "brand": "MIR",
  "expiration_month": "07",
  "expiration_year": "2024",
  "security_code": "003",
  "meta": [
    {
      "name": "GO",
      "value": "base"
    },
    {
      "name": "GO",
      "value": "advance"
    }
  ]
}

### GET user/cards
GET localhost:8080/user/cards
Authorization: Bearer {{access_token}}

### PATCH user/cards
PATCH localhost:8080/user/cards/18fc4d61-aa94-421d-9baf-78ea5d50e90d
Authorization: Bearer {{access_token}}

{
  "name": "Green",
  "card_holder_hame": "DIGIT",
  "number": "1123123410001234",
  "brand": "MIR",
  "expiration_month": "07",
  "expiration_year": "2024",
  "security_code": "003"
}


### DELETE user/cards
DELETE localhost:8080/user/cards/18fc4d61-aa94-421d-9baf-78ea5d50e90d
Authorization: Bearer {{access_token}}


### ================================ NOTES ====================================###

### POST user/notes
POST localhost:8080/user/notes
Authorization: Bearer {{access_token}}

{
  "name": "Text",
  "note": "Content",
  "meta": [
    {
      "name": "GO",
      "value": "base"
    },
    {
      "name": "GO",
      "value": "advance"
    }
  ]
}

### GET user/notes
GET localhost:8080/user/notes
Authorization: Bearer {{access_token}}

### PATCH user/notes
PATCH localhost:8080/user/notes/3fa710d3-2571-4013-a741-a51f6b34f724
Authorization: Bearer {{access_token}}

{
  "name": "TEXT",
  "note": "Content"
}


### DELETE user/notes
DELETE localhost:8080/user/notes/3fa710d3-2571-4013-a741-a51f6b34f724
Authorization: Bearer {{access_token}}

